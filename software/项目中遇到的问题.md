# 问题总结

该文档记录在项目开发中遇到的各种问题，问题难度最高5星

## 问题1 如何重构由 dva + roadhog 构建的前端项目

难度：**5星**

frontend developer: heyunjiang

startTime: 2018.8.22

update: 2018.9.14

背景：最开始使用的是 `ant-admin` 项目，当初还只有1000多颗 star ，使用的是 `roadhog 1.0` + `dva 1.0` + `antd 2.3` + `react 15.0` 版本，并且其中涉及更多的版本依赖，现在这些技术都已经升级了许多版本了，单独升级老版本某一项是会影响项目的运行的，但是如果全部升级或者部分升级，又会遇到很多问题，项目运行不成功，这源于蚂蚁的 roadhog、 antd 向下兼容不是很好， antd 3 要求支持 react 16 及以上，但是老项目有许多其他包要求是 react 16 以下的版本，所以干脆搞一个前端项目重构，把蚂蚁的这些封装好的开发环境给拆分了，自己做一套开发环境，要求能随时跟上技术的跟新而更新

重构部分：

开发环境： roadhog -> webpack 4

dva -> react-router + redux-saga + redux + react-redux

antd 2.x -> antd 3.x

## 问题2 通过 post 提交数据是否只能是 json 数据

难度：**1星**

time: 2018.9.29

答：自然不是。前面一直以为通过 post 提交的数据，只能是 `"{'hello':'world'}"` 这种 json 字符串格式的内容。后面自己在做文件上传的时候，需要用到 `FormData` 上传文件，这个可不是 json 字符串。

FormData 包含文件、blob、字符串这3种类型，其他类型如 number ，都会强制转换成 string 。

使用 post 方式提交内容，可以提交 object、array、FormData 等。